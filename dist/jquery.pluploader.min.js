/*!
 * @author Polinome <contact@polinome.com>
 * @licence CC BY-NC 4.0 http://creativecommons.org/licenses/by-nc/4.0/
 */
!function(){function e(d,u){"use strict";function e(e){var n,t={url:"upload.php",runtimes:"html5,gears,flash,silverlight,browserplus",max_file_size:"50mb",filters:[{title:"Image files",extensions:"jpg,gif,png"},{title:"Zip files",extensions:"zip"},{title:"Adobe",extensions:"pdf,ai,psd,indd"}],flash_swf_url:"plupload.flash.swf",silverlight_xap_url:"plupload.silverlight.xap",multi_selection:!1,unique_names:!1,chunk_size:"1mb",multipart_params:{}},l=d.extend({},{baseHref:"/",BeforeUpload:function(e,n,t){},ChunkUploaded:function(e,n,t,l){},Destroy:function(e,n){},Error:function(e,n,t){},FilesAdded:function(e,n,t){n.start()},FilesRemoved:function(e,n,t){},FileUploaded:function(e,n,t,l){},Init:function(e,n,t){},PostInit:function(e,n){},QueueChanged:function(e,n){},Refresh:function(e,n){},StateChanged:function(e,n){},UploadComplete:function(e,n,t){},UploadFile:function(e,n,t){},UploadProgress:function(e,n,t){}},e),i=d.extend({},t);for(n in i.flash_swf_url=l.baseHref+i.flash_swf_url,i.silverlight_xap_url=l.baseHref+i.silverlight_xap_url,t)n in l&&(i[n]=l[n]);return this.each(function(){var e,n=null,t=null;if(d(this).unbind("click").click(function(e){e.preventDefault()}),(null==(e=d(this).attr("id"))||""==e||1<d("[id="+e+"]").length)&&(e=r("pluploader-"),d(this).attr("id",e)),i.browse_button=e,"drop_element"in l&&null!=l.drop_element)switch(typeof l.drop_element){case"string":0<d(l.drop_element).length?n=d(l.drop_element):0<d("#"+l.drop_element).length&&(n=d(l.drop_element));break;case"function":!(n=l.drop_element.call(this))instanceof jQuery&&(n=null);break;default:l.drop_element instanceof jQuery&&(n=l.drop_element)}null!=n&&((null==(t=n.attr("id"))||""==t||1<d("[id="+t+"]").length)&&(t=r("pluploader-container-"),n.attr("id",t)),i.drop_element=t),this.uploader=function(l,e,i){var n=new u.Uploader(e);return n.bind("Init",function(e,n){i.Init.call(this,l,e,n)}),n.bind("PostInit",function(e){i.Init.call(this,l,e)}),n.init(),n.bind("BeforeUpload",function(e,n){i.BeforeUpload.call(this,l,e,n)}),n.bind("ChunkUploaded",function(e,n,t){i.ChunkUploaded.call(this,l,e,n,t)}),n.bind("Destroy",function(e){i.Destroy.call(this,l,e)}),n.bind("Error",function(e,n){i.Error.call(this,l,e,n)}),n.bind("FilesAdded",function(e,n){i.FilesAdded.call(this,l,e,n)}),n.bind("FilesRemoved",function(e,n){i.FilesRemoved.call(this,l,e,n)}),n.bind("FileUploaded",function(e,n,t){i.FileUploaded.call(this,l,e,n,t)}),n.bind("QueueChanged",function(e){i.QueueChanged.call(this,l,e)}),n.bind("Refresh",function(e){i.Refresh.call(this,l,e)}),n.bind("StateChanged",function(e){i.StateChanged.call(this,l,e)}),n.bind("UploadComplete",function(e,n){i.UploadComplete.call(this,l,e,n)}),n.bind("UploadFile",function(e,n){i.UploadFile.call(this,l,e,n)}),n.bind("UploadProgress",function(e,n){i.UploadProgress.call(this,l,e,n)}),n}(this,i,l)});function o(e){var n="",t=0,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(t=0;t<e;t++)n+=l.charAt(Math.floor(Math.random()*l.length));return n}function r(e){for(var n;n=o(10),0<d("#"+e+n).length;);return e+n}}return d.fn.pluploader=e}"function"==typeof define&&define.amd?define(["jquery","plupload"],e):"object"==typeof exports?e(require("jquery"),require("plupload")):jQuery&&!jQuery.fn.pluploader&&e(jQuery,plupload)}(window,document);