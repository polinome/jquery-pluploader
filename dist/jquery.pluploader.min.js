/*!
 * @author Thomas <thansen@solire.fr>
 * @licence CC BY-NC 4.0 http://creativecommons.org/licenses/by-nc/4.0/
 */
!function(a,b){var c=function(a,b){"use strict";var c=function(c){function d(a){var b="",c=0,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(c=0;c<a;c++)b+=d.charAt(Math.floor(Math.random()*d.length));return b}function e(b){var c;do{c=d(10)}while(a("#"+b+c).length>0);return b+c}function f(a,c,d){var e=new b.Uploader(c);return e.bind("Init",function(b,c){d.Init.call(this,a,b,c)}),e.bind("PostInit",function(b){d.Init.call(this,a,b)}),e.init(),e.bind("BeforeUpload",function(b,c){d.BeforeUpload.call(this,a,b,c)}),e.bind("ChunkUploaded",function(b,c,e){d.ChunkUploaded.call(this,a,b,c,e)}),e.bind("Destroy",function(b){d.Destroy.call(this,a,b)}),e.bind("Error",function(b,c){d.Error.call(this,a,b,c)}),e.bind("FilesAdded",function(b,c){d.FilesAdded.call(this,a,b,c)}),e.bind("FilesRemoved",function(b,c){d.FilesRemoved.call(this,a,b,c)}),e.bind("FileUploaded",function(b,c,e){d.FileUploaded.call(this,a,b,c,e)}),e.bind("QueueChanged",function(b){d.QueueChanged.call(this,a,b)}),e.bind("Refresh",function(b){d.Refresh.call(this,a,b)}),e.bind("StateChanged",function(b){d.StateChanged.call(this,a,b)}),e.bind("UploadComplete",function(b,c){d.UploadComplete.call(this,a,b,c)}),e.bind("UploadFile",function(b,c){d.UploadFile.call(this,a,b,c)}),e.bind("UploadProgress",function(b,c){d.UploadProgress.call(this,a,b,c)}),e}var g,h={baseHref:"/",BeforeUpload:function(a,b,c){},ChunkUploaded:function(a,b,c,d){},Destroy:function(a,b){},Error:function(a,b,c){},FilesAdded:function(a,b,c){b.start()},FilesRemoved:function(a,b,c){},FileUploaded:function(a,b,c,d){},Init:function(a,b,c){},PostInit:function(a,b){},QueueChanged:function(a,b){},Refresh:function(a,b){},StateChanged:function(a,b){},UploadComplete:function(a,b,c){},UploadFile:function(a,b,c){},UploadProgress:function(a,b,c){}},i={url:"upload.php",runtimes:"html5,gears,flash,silverlight,browserplus",max_file_size:"50mb",filters:[{title:"Image files",extensions:"jpg,gif,png"},{title:"Zip files",extensions:"zip"},{title:"Adobe",extensions:"pdf,ai,psd,indd"}],flash_swf_url:"plupload.flash.swf",silverlight_xap_url:"plupload.silverlight.xap",multi_selection:!1,unique_names:!1,chunk_size:"1mb",multipart_params:{}},j=a.extend({},h,c),k=a.extend({},i),l=function(){var b,c=null,d=null;if(a(this).unbind("click").click(function(a){a.preventDefault()}),b=a(this).attr("id"),(null==b||""==b||a("[id="+b+"]").length>1)&&(b=e("pluploader-"),a(this).attr("id",b)),k.browse_button=b,"drop_element"in j&&null!=j.drop_element)switch(typeof j.drop_element){case"string":a(j.drop_element).length>0?c=a(j.drop_element):a("#"+j.drop_element).length>0&&(c=a(j.drop_element));break;case"function":c=j.drop_element.call(this),!c instanceof jQuery&&(c=null);break;default:j.drop_element instanceof jQuery&&(c=j.drop_element)}null!=c&&(d=c.attr("id"),(null==d||""==d||a("[id="+d+"]").length>1)&&(d=e("pluploader-container-"),c.attr("id",d)),k.drop_element=d),this.uploader=f(this,k,j)};k.flash_swf_url=j.baseHref+k.flash_swf_url,k.silverlight_xap_url=j.baseHref+k.silverlight_xap_url;for(g in i)g in j&&(k[g]=j[g]);return this.each(l)};return a.fn.pluploader=c,c};"function"==typeof define&&define.amd?define(["jquery","plupload"],c):"object"==typeof exports?c(require("jquery"),require("plupload")):jQuery&&!jQuery.fn.pluploader&&c(jQuery,plupload)}(window,document);